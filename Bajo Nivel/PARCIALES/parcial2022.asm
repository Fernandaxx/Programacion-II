ORG 1000h 
;V1 DB ?
;V2 DB ?
cadena DB "BAAVAAC"
fin_CAD DB ?
vocales DB "AEIOUaeiou"
fin_vocales DB ?
cant DB ?

ORG 3000h
;RECIBE V1 Y V2 REF-REGISTRO
;AX REF V1
;CX REF V2

SWAP:
PUSH BX
PUSH AX
PUSH CX
PUSH DX
MOV BX, AX ; DIR DE V1 EN BX
MOV DL, [BX]; A EN DL
MOV BX, CX ; DIR DE V2 EN BX
MOV DH, [BX]; B EN DH
MOV [BX],DL

MOV BX,AX ;DIR DE V1 EN BX
MOV [BX],DH
POP DX
POP CX
POP AX
POP BX
RET




; Toma por valor por valor por pila, resultado en AL 0FFh si es vocal, 00h si no
ES_VOCAL: PUSH BX
MOV BX, SP
ADD BX, 4
MOV AH, [BX]
MOV AL, 00h
MOV BX, OFFSET vocales
lazo: CMP AH, [BX]
JZ vocal
INC BX
CMP BX, OFFSET fin_vocales
JNZ lazo
JZ fin
vocal: MOV AL, 0FFh
fin: POP BX
RET

ORG 2000h
;INCISO A
;MOV AX, OFFSET V1
;MOV CX, OFFSET V2

MOV AX,OFFSET cadena ; INICIO CADENA
MOV CX, OFFSET fin_CAD - 1 ; FINAL CADENA 
MOV DL,0

REPEAT: CALL SWAP
PUSH AX
; MIRAR SI ES VOCAL PRIMERA VOCAL
MOV BX,AX 
MOV AL, [BX]
PUSH AX
CALL ES_VOCAL
CMP AL, 0FFh
JNZ SIGUE
INC DL

SIGUE: POP AX
; MIRAR SI ES VOCAL ULTIMA ES VOCAL
MOV BX,CX 
MOV AL, [BX]
PUSH AX
CALL ES_VOCAL
CMP AL, 0FFh
JNZ SIGUE2
INC DL

SIGUE2:POP AX
POP AX
INC AX
DEC CX
CMP AX,CX
JS REPEAT
;SI ES IMPAR MIRA SI LA ULTMIA LETRA ES VOCAL
CMP AX,CX
JNZ FINAL
PUSH AX
CALL ES_VOCAL
CMP AL, 0FFh
JNZ SIGUE3
INC DL
SIGUE3:
POP AX


FINAL:
MOV cant, DL 
HLT
END

